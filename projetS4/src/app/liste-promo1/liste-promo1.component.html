<h3 class="first">Liste promotion 1</h3>

<p-table #dt [value]="etudiants$" sortMode="multiple" dataKey="id"  [globalFilterFields]="['nom','prenom']">
  <ng-template pTemplate="caption">
    <div style="text-align: right">
      <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
      <input type="text" pInputText size="30" placeholder="Recherche" (input)="dt.filterGlobal($event.target.value, 'contains')" style="width:auto">
    </div>
  </ng-template>
  <ng-template pTemplate="header">
    <tr>
      <th style="width: 3em"></th>
      <th *ngFor="let col of cols" [pSortableColumn]="col.field" >
        {{col.header}}
        <p-sortIcon [field]="col.field"></p-sortIcon>
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-etu>
    <tr>
      <td>
        <a href="#" [pRowToggler]="etu">
          <i [ngClass]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></i>
        </a>
      </td>
      <td *ngFor="let col of cols" [ngClass]="col.field=='id'? null : etu[col.field] < 8 ? 'insuffisant' : etu[col.field] < 10 ? 'nonValide' : null">
        {{etu[col.field]}}
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="rowexpansion" let-etu let-columns="cols">
    <tr>
      <td [attr.colspan]="cols.length + 1">
        <div class="ui-g ui-fluid" style="font-size:16px;padding:20px">


            <div class="ui-g-12 ui-md-3" style="text-align:center">
              <img [attr.alt]="etu.avatar" width="120" src="assets/images/{{etu.avatar}}">
            </div>

          <div class="ui-g-12 ui-md-9">
            <div class="ui-g">
              <div class="ui-g-12">
                <b>Nom:</b> {{etu.nom}}
              </div>
              <div class="ui-g-12">
                <b>Pr√©nom:</b> {{etu.prenom}}
              </div>
            </div>
          </div>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>

